<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Divy's Timetable</title>
  <style>
    :root {
      --bg-light: #f9fafc;
      --bg-dark: #1e1e2f;
      --text-light: #000;
      --text-dark: #fff;
      --primary: #3f51b5;
      --primary-dark: #2c3e9e;
      --card-light: #ffffff;
      --card-dark: #2e2e3e;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background-color: var(--bg-light);
      color: var(--text-light);
      transition: 0.3s;
    }

    body.dark {
      background-color: var(--bg-dark);
      color: var(--text-dark);
    }

    header {
      background: var(--primary);
      color: white;
      padding: 20px;
      text-align: center;
      position: relative;
    }

    .toggle-theme {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #fff;
      color: #000;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    .btn-group {
      text-align: center;
      margin: 20px 0;
    }

    button {
      padding: 10px 20px;
      margin: 10px 5px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }

    button:hover {
      background: var(--primary-dark);
    }

    .timetable {
      max-width: 800px;
      margin: 0 auto 40px;
      background: var(--card-light);
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      transition: 0.3s;
    }

    body.dark .timetable {
      background: var(--card-dark);
    }

    .timetable h2 {
      text-align: center;
      color: var(--primary);
    }

    .row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid #ccc;
    }

    .time {
      width: 25%;
      font-weight: bold;
    }

    .activity {
      width: 60%;
    }

    .activity input {
      width: 100%;
      border: none;
      background: transparent;
      color: inherit;
      font-size: 1em;
    }

    .check {
      width: 10%;
    }

    input[type="checkbox"] {
      transform: scale(1.2);
    }

    @media (max-width: 600px) {
      .row {
        flex-direction: column;
        align-items: flex-start;
      }
      .time, .activity, .check {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>üìò Divy's Timetable</h1>
    <button class="toggle-theme" onclick="toggleTheme()">üåó Theme</button>
    <p>Smart Planning for Top Performance</p>
  </header>

  <div class="btn-group">
    <button onclick="showTimetable('vacation')">üèñÔ∏è Vacation Mode</button>
    <button onclick="showTimetable('school')">üè´ School Mode</button>
    <button onclick="clearStorage()">üßπ Clear Progress</button>
  </div>

  <div class="timetable" id="timetableContainer"></div>

  <script>
    const timetables = {
      vacation: [
        ["6:30 AM", "Wake up + freshen up"],
        ["7:00 ‚Äì 8:00", "Breakfast + light screen time"],
        ["8:00 ‚Äì 9:30", "Chill time / YouTube (Edu or Fun)"],
        ["9:30 ‚Äì 10:30", "Help at home / organizing desk"],
        ["10:30 ‚Äì 11:00", "Flashcards or light revision"],
        ["11:00 ‚Äì 12:00", "Science Concepts + Notes"],
        ["12:00 ‚Äì 1:00", "SST (Map / Dates)"],
        ["1:00 ‚Äì 2:00", "Lunch + short nap"],
        ["2:00 ‚Äì 3:00", "Math Practice"],
        ["3:00 ‚Äì 4:00", "Holiday Homework"],
        ["4:00 ‚Äì 5:00", "Games / Outdoor Time"],
        ["5:00 ‚Äì 6:00", "MCQs / Quiz Practice"],
        ["6:00 ‚Äì 7:00", "Dinner + Family Time"],
        ["7:00 ‚Äì 8:00", "Optional Revision or Reading"],
        ["8:00 ‚Äì 9:00", "Reflection + Plan next day"],
        ["9:00 PM", "Sleep üò¥"]
      ],
      school: [
        ["5:30 AM", "Wake up + get ready"],
        ["6:30 ‚Äì 2:30", "School Time üè´"],
        ["2:30 ‚Äì 3:30", "Lunch + rest"],
        ["3:30 ‚Äì 4:30", "Homework / Classwork Revision"],
        ["4:30 ‚Äì 5:30", "Fix Weak Topics (SST/Sci/Math)"],
        ["5:30 ‚Äì 6:30", "Games / Chill Time"],
        ["6:30 ‚Äì 7:30", "Practice Math / Science Numericals"],
        ["7:30 ‚Äì 8:15", "Dinner + Talk"],
        ["8:15 ‚Äì 8:45", "Quick Revision (formulas, dates)"],
        ["9:00 PM", "Sleep üò¥"]
      ]
    };

    let currentType = "vacation";

    function saveToLocalStorage(type, index, value, check) {
      const key = `${type}-${index}`;
      localStorage.setItem(`${key}-text`, value);
      localStorage.setItem(`${key}-check`, check);
    }

    function loadFromLocalStorage(type, index) {
      const key = `${type}-${index}`;
      return {
        text: localStorage.getItem(`${key}-text`),
        check: localStorage.getItem(`${key}-check`) === "true"
      };
    }

    function showTimetable(type) {
      currentType = type;
      const container = document.getElementById("timetableContainer");
      const schedule = timetables[type];
      let html = `<h2>${type === "vacation" ? "Vacation Mode üèñÔ∏è" : "School Day Mode üè´"}</h2>`;
      schedule.forEach(([time, activity], index) => {
        const stored = loadFromLocalStorage(type, index);
        const task = stored.text || activity;
        const checked = stored.check ? "checked" : "";
        html += `
          <div class="row">
            <div class="time">${time}</div>
            <div class="activity">
              <input type="text" value="${task}" 
                     oninput="saveToLocalStorage('${type}', ${index}, this.value, document.getElementById('check-${type}-${index}').checked)">
            </div>
            <div class="check">
              <input type="checkbox" id="check-${type}-${index}" ${checked}
                onclick="saveToLocalStorage('${type}', ${index}, document.querySelector('[id^=task-${type}-${index}]')?.value || '${task}', this.checked)">
            </div>
          </div>
        `;
      });
      container.innerHTML = html;
    }

    function clearStorage() {
      if (confirm("Are you sure you want to clear all saved data?")) {
        localStorage.clear();
        showTimetable(currentType);
      }
    }

    function toggleTheme() {
      document.body.classList.toggle("dark");
    }

    // Load vacation mode first
    showTimetable("vacation");
  </script>
</body>
</html>